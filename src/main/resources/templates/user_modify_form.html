<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      th:href="@{/static/css/bootstrap.min.css}"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/static/css/style.css}" />
    <!-- Tooplate Gymso CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      th:href="@{/static/css/tooplate-gymso-style.css}"
    />
    <script th:src="@{/static/js/jquery.min.js}"></script>
    <title>회원 정보 수정</title>
    <style>
      .edit-button {
        background-color: #343a40;
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        transition: color 0.3s ease;
      }
      .edit-button:hover {
        color: rgb(241, 58, 17);
      }
      .delete-button {
        background-color: #dc3545;
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        transition: color 0.3s ease;
      }
      .delete-button:hover {
        color: rgb(241, 58, 17);
      }
      .custom-card {
        background-color: #f0f0f0;
        border: none;
        border-radius: 10px;
      }
    </style>
  </head>
  <body>
    <!-- 네비게이션 바 -->
    <nav th:replace="~{navbar :: navbarFragment}"></nav>

    <section
      class="hero d-flex flex-column justify-content-center align-items-center"
      id="home"
    >
      <div class="bg-overlay"></div>
      <div class="container my-5 d-flex justify-content-center">
        <div class="card shadow-lg p-4 custom-card" style="width: 500px">
          <h4 class="card-title text-center mb-4">
            <strong>회원 정보 수정</strong>
          </h4>
          <form
            th:action="@{/user/modify}"
            th:object="${userModifyForm}"
            method="post"
          >
            <div
              th:if="${#fields.hasErrors('username')}"
              class="alert alert-danger"
              role="alert"
            >
              <span th:errors="*{username}"></span>
            </div>
            <div class="mb-3">
              <label for="username" class="form-label"
                ><strong>ID</strong></label
              >
              <input
                type="text"
                th:field="*{username}"
                class="form-control"
                id="username"
                readonly
              />
            </div>

            <div
              th:if="${#fields.hasErrors('email')}"
              class="alert alert-danger"
              role="alert"
            >
              <span th:errors="*{email}"></span>
            </div>
            <div class="mb-3">
              <label for="email" class="form-label"
                ><strong>이메일</strong></label
              >
              <input
                type="email"
                th:field="*{email}"
                class="form-control"
                id="email"
              />
            </div>

            <div
              th:if="${#fields.hasErrors('password')}"
              class="alert alert-danger"
              role="alert"
            >
              <span th:errors="*{password}"></span>
            </div>
            <div class="mb-3">
              <label for="password" class="form-label"
                ><strong>새 비밀번호</strong></label
              >
              <input
                type="password"
                th:field="*{password}"
                class="form-control"
                id="password"
              />
            </div>

            <div
              th:if="${#fields.hasErrors('password2')}"
              class="alert alert-danger"
              role="alert"
            >
              <span th:errors="*{password2}"></span>
            </div>
            <div class="mb-3">
              <label for="password2" class="form-label"
                ><strong>새 비밀번호 확인</strong></label
              >
              <input
                type="password"
                th:field="*{password2}"
                class="form-control"
                id="password2"
              />
            </div>

            <button type="submit" class="btn edit-button w-100 mt-3">
              수정하기
            </button>
          </form>

          <hr class="my-4" />

          <h4 class="card-title text-center mb-4">
            <strong>회원 탈퇴</strong>
          </h4>
          <form th:action="@{/user/delete}" method="post">
            <p class="text-center">정말로 탈퇴하시겠습니까?</p>
            <p class="text-center">탈퇴 시 모든 정보가 삭제됩니다.</p>
            <button type="submit" class="btn delete-button w-100 mt-3">
              탈퇴하기
            </button>
          </form>
        </div>
      </div>
    </section>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script th:src="@{/static/js/jquery.min.js}"></script>
    <script th:src="@{/static/js/popper.min.js}"></script>
    <script th:src="@{/static/js/bootstrap.min.js}"></script>
  </body>
</html>
